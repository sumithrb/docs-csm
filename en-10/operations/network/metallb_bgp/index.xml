<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Metallb BGP on Cray System Management (CSM)</title>
    <link>/docs-csm/en-10/operations/network/metallb_bgp/</link>
    <description>Recent content in Metallb BGP on Cray System Management (CSM)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <lastBuildDate>Mon, 17 Jul 2023 03:18:40 +0000</lastBuildDate><atom:link href="/docs-csm/en-10/operations/network/metallb_bgp/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Troubleshoot BGP Not Accepting Routes From Metallb</title>
      <link>/docs-csm/en-10/operations/network/metallb_bgp/troubleshoot_bgp_not_accepting_routes_from_metallb/</link>
      <pubDate>Mon, 17 Jul 2023 03:17:15 +0000</pubDate>
      
      <guid>/docs-csm/en-10/operations/network/metallb_bgp/troubleshoot_bgp_not_accepting_routes_from_metallb/</guid>
      <description>Troubleshoot BGP not Accepting Routes from MetalLB Check the number of routes that the Border Gateway Protocol (BGP) Router is accepting in the peering session. This procedure is useful if Kubernetes LoadBalancer services in the NMN, HMN, or CAN address pools are not accessible from outside the cluster.
Regain access to Kubernetes LoadBalancer services from outside the cluster.
Prerequisites This procedure requires administrative privileges.
Procedure   Log into the spine or aggregate switch.</description>
    </item>
    
    <item>
      <title>Troubleshoot Services Without An Allocated Ip Address</title>
      <link>/docs-csm/en-10/operations/network/metallb_bgp/troubleshoot_services_without_an_allocated_ip_address/</link>
      <pubDate>Mon, 17 Jul 2023 03:17:15 +0000</pubDate>
      
      <guid>/docs-csm/en-10/operations/network/metallb_bgp/troubleshoot_services_without_an_allocated_ip_address/</guid>
      <description>Troubleshoot Services without an Allocated IP Address Check if a given service has an IP address allocated for it if the Kubernetes LoadBalancer services in the NMN, HMN, or CAN address pools are not accessible from outside the cluster.
Regain access to Kubernetes LoadBalancer services from outside the cluster.
Prerequisites This procedure requires administrative privileges.
Procedure   Check the status of the services with the kubectl command to see the External-IP of the service.</description>
    </item>
    
    <item>
      <title>Update BGP Neighbors</title>
      <link>/docs-csm/en-10/operations/network/metallb_bgp/update_bgp_neighbors/</link>
      <pubDate>Mon, 17 Jul 2023 03:17:15 +0000</pubDate>
      
      <guid>/docs-csm/en-10/operations/network/metallb_bgp/update_bgp_neighbors/</guid>
      <description>Update BGP Neighbors This page will detail the manual procedure to configure and verify BGP neighbors on the management switches.
You will not have BGP peers until CSM install.sh has run. This is where MetalLB is deployed.
 How do I check the status of the BGP neighbors?  Log into the spine switches and run show bgp ipv4 unicast summary for Aruba/HPE switches and show ip bgp summary for Mellanox.</description>
    </item>
    
    <item>
      <title>Check BGP Status And Reset Sessions</title>
      <link>/docs-csm/en-10/operations/network/metallb_bgp/check_bgp_status_and_reset_sessions/</link>
      <pubDate>Mon, 17 Jul 2023 03:17:14 +0000</pubDate>
      
      <guid>/docs-csm/en-10/operations/network/metallb_bgp/check_bgp_status_and_reset_sessions/</guid>
      <description>Check BGP Status and Reset Sessions Check the Border Gateway Protocol (BGP) status on the Aruba and Mellanox switches and verify that all sessions are in an Established state. If the state of any session in the table is Idle, then the BGP sessions must be reset.
 Prerequisites Procedure  Mellanox Aruba   Further steps  Prerequisites This procedure requires administrative privileges.
Procedure The following procedures may not resolve the problem after just one attempt.</description>
    </item>
    
    <item>
      <title>Metallb In BGP-mode</title>
      <link>/docs-csm/en-10/operations/network/metallb_bgp/metallb_in_bgp-mode/</link>
      <pubDate>Mon, 17 Jul 2023 03:17:14 +0000</pubDate>
      
      <guid>/docs-csm/en-10/operations/network/metallb_bgp/metallb_in_bgp-mode/</guid>
      <description>MetalLB in BGP-Mode MetalLB is a component in Kubernetes that manages access to LoadBalancer services from outside the Kubernetes cluster. There are LoadBalancer services on the Node Management Network (NMN), Hardware Management Network (HMN), and Customer Access Network (CAN).
MetalLB can run in either Layer2-mode or BGP-mode for each address pool it manages. BGP-mode is used for the NMN, HMN, and CAN. This enables true load balancing (Layer2-mode does failover, not load balancing) and allows for a more robust layer 3 configuration for these networks.</description>
    </item>
    
    <item>
      <title>Metallb In BGP-mode Configuration</title>
      <link>/docs-csm/en-10/operations/network/metallb_bgp/metallb_in_bgp-mode_configuration/</link>
      <pubDate>Mon, 17 Jul 2023 03:17:14 +0000</pubDate>
      
      <guid>/docs-csm/en-10/operations/network/metallb_bgp/metallb_in_bgp-mode_configuration/</guid>
      <description>MetalLB in BGP-Mode Configuration MetalLB in BGP-mode provides a more robust configuration for the Node Management Network (NMN), Hardware Management Network (HMN), and Customer Access Network (CAN). This configuration is generated from the csi config init input values. BGP-mode is enabled by updating the protocols in these configuration files.
MetalLB Peer Configuration The content for metallb_bgp_peers is generated by the csi config init command. In addition to the MetalLB configuration, there is configuration needed on the spine switches to set up the BGP router on these switches.</description>
    </item>
    
  </channel>
</rss>
