<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Cray System Management Install on Cray System Management (CSM)</title>
    <link>/docs-csm/en-13/install/</link>
    <description>Recent content in Cray System Management Install on Cray System Management (CSM)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <lastBuildDate>Mon, 17 Jul 2023 03:16:17 +0000</lastBuildDate><atom:link href="/docs-csm/en-13/install/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Ceph Csi Troubleshooting</title>
      <link>/docs-csm/en-13/install/troubleshooting_ceph_csi/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:20 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/troubleshooting_ceph_csi/</guid>
      <description>Ceph CSI Troubleshooting If there has been a failure to initialize all Ceph CSI components on ncn-s001, then the storage node cloud-init may need to be rerun.
Topics  Verify Ceph CSI Rerun storage node cloud-init  1. Verify Ceph CSI Verify that the ceph-csi requirements are in place.
  (ncn-s001#) Log in to ncn-s001 and run the following command.
ceph -s If it returns a connection error, then assume Ceph is not installed.</description>
    </item>
    
    <item>
      <title>PXE Boot Troubleshooting</title>
      <link>/docs-csm/en-13/install/troubleshooting_pxe_boot/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:20 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/troubleshooting_pxe_boot/</guid>
      <description>PXE Boot Troubleshooting This page is designed to cover various issues that arise when trying to PXE boot nodes in an HPE Cray EX system.
 Configuration required for PXE booting Switch configuration  Aruba configuration Mellanox configuration   Next steps  Node iPXE retries and NIC order Restart BSS Restart Kea Missing BSS data    In order for PXE booting to work successfully, the management network switches need to be configured correctly.</description>
    </item>
    
    <item>
      <title>Troubleshooting Installation Problems</title>
      <link>/docs-csm/en-13/install/troubleshooting_installation/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:20 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/troubleshooting_installation/</guid>
      <description>Troubleshooting Installation Problems The installation of the Cray System Management (CSM) product requires knowledge of the various nodes and switches for the HPE Cray EX system. The procedures in this section should be referenced during the CSM install for additional information on system hardware, troubleshooting, and administrative tasks related to CSM.
Topics  Reset root password on a LiveCD USB PXE boot troubleshooting Restart network services and interfaces on NCNs Utility storage node installation troubleshooting Ceph CSI troubleshooting Postgres troubleshooting  Reset root password on a LiveCD USB If the root password on the LiveCD needs to be changed, then see Reset root Password on a LiveCD USB.</description>
    </item>
    
    <item>
      <title>Troubleshooting Unused Drives On Storage Nodes</title>
      <link>/docs-csm/en-13/install/troubleshooting_unused_drives_on_storage_nodes/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:20 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/troubleshooting_unused_drives_on_storage_nodes/</guid>
      <description>Troubleshooting Unused Drives on Storage Nodes  NOTE: This page is only applicable to storage NCNs on Gigabyte or HPE hardware.
 Utility storage nodes (also known as storage NCNs) are expected to have a particular number of OSDs based on the type of NCN hardware. This page describes how to validate that the storage NCNs have the expected number of OSDs, and provides remediation steps if this is not the case.</description>
    </item>
    
    <item>
      <title>Utility Storage Installation Troubleshooting</title>
      <link>/docs-csm/en-13/install/troubleshooting_utility_storage_node_installation/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:20 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/troubleshooting_utility_storage_node_installation/</guid>
      <description>Utility Storage Installation Troubleshooting If there is a failure in the creation of Ceph storage on the utility storage nodes for one of these scenarios, the Ceph storage might need to be reinitialized.
Topics  Scenario 1 (Shasta v1.4 only) Scenario 2 (Shasta v1.5 only)  Details Scenario 1 (Shasta 1.4 only) IMPORTANT (FOR NODE INSTALLS/REINSTALLS ONLY): If the Ceph install failed, check the following:
ceph osd tree ID CLASS WEIGHT TYPE NAME STATUS REWEIGHT PRI-AFF -1 83.</description>
    </item>
    
    <item>
      <title>Prepare Compute Nodes</title>
      <link>/docs-csm/en-13/install/prepare_compute_nodes/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:19 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/prepare_compute_nodes/</guid>
      <description>Prepare Compute Nodes  Configure HPE Apollo 6500 XL645d Gen10 Plus compute nodes  Gather information Configure iLO Configure switch port Cleanup Kea Cleanup HSM Update BIOS time   Next topic  Configure HPE Apollo 6500 XL645d Gen10 Plus compute nodes The HPE Apollo 6500 XL645d Gen10 Plus compute node uses a NIC/shared iLO network port. The NIC is also referred to as the Embedded LOM (LAN On Motherboard) and is available to the booted OS.</description>
    </item>
    
    <item>
      <title>Prepare Site Init</title>
      <link>/docs-csm/en-13/install/prepare_site_init/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:19 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/prepare_site_init/</guid>
      <description>Prepare Site Init These procedures guide administrators through setting up the site-init directory which contains important customizations for various products.
 Background Create and Initialize Site-Init Directory Create Baseline System Customizations  Setup LDAP configuration End of LDAP configuration   Customer-Specific Customizations  1. Background The shasta-cfg directory included in the CSM release tarball includes relatively static, installation-centric artifacts, such as:
 Cluster-wide network configuration settings required by Helm charts deployed by product stream Loftsman manifests Sealed Secrets Sealed Secret Generate Blocks &amp;ndash; a form of plain-text input that renders to a Sealed Secret Helm chart value overrides that are merged into Loftsman manifests by product stream installers  2.</description>
    </item>
    
    <item>
      <title>Re-installation</title>
      <link>/docs-csm/en-13/install/re-installation/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:19 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/re-installation/</guid>
      <description>Re-Installation This page details steps to take prior to starting new installation, these pages assume that all the NCNs have been deployed (e.g. there is no more PIT node).
Topics  Quiesce compute and application nodes Disable DHCP service Set IPMI credentials Power off booted nodes Set node BMCs to DHCP Power off the PIT node Configure DNS Check disk space  Quiesce application and compute nodes  NOTE Skip this section if compute nodes and application nodes are not booted.</description>
    </item>
    
    <item>
      <title>Shcd Hmn Tab/hmn Connections Rules</title>
      <link>/docs-csm/en-13/install/shcd_hmn_connections_rules/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:19 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/shcd_hmn_connections_rules/</guid>
      <description>SHCD HMN Tab/HMN Connections Rules  Introduction  Chassis selection   Compute node  Dense four-node chassis - Gigabyte or Intel chassis Single-node chassis - Apollo 6500 XL675D Dual-node chassis - Apollo 6500 XL645D   Chassis Management Controller (CMC) Management node  Master Worker Storage   Application node  Single-node chassis  Building component names (xnames) for nodes in a single application node chassis   Dual-node chassis  Building component names (xnames) for nodes in a dual application node chassis     Columbia Slingshot switch PDU cabinet controller Cooling door Management switches  Introduction The HMN tab of the SHCD describes the air-cooled hardware present in the system and how these devices are connected to the Hardware Management Network (HMN).</description>
    </item>
    
    <item>
      <title>Pre-installation</title>
      <link>/docs-csm/en-13/install/pre-installation/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:18 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/pre-installation/</guid>
      <description>Pre-Installation The page walks a user through setting up the Cray LiveCD with the intention of installing Cray System Management (CSM).
 Boot installation environment  Prepare installation environment server Boot the LiveCD First log in Prepare the data partition Set reusable environment variables Exit the console and log in with SSH   Import CSM tarball  Download CSM tarball Import tarball assets   Create system configuration  Validate SHCD Generate topology files Customize system_config.</description>
    </item>
    
    <item>
      <title>Deploy Final NCN</title>
      <link>/docs-csm/en-13/install/deploy_final_non-compute_node/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:17 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/deploy_final_non-compute_node/</guid>
      <description>Deploy Final NCN The following procedure contains information for rebooting and deploying the management node that is currently hosting the LiveCD. At the end of this procedure, the LiveCD will no longer be active. The node it was using will join the Kubernetes cluster as the final of three master nodes, forming a quorum.
IMPORTANT: While the node is rebooting, it will only be available through Serial-Over-LAN (SOL) and local terminals.</description>
    </item>
    
    <item>
      <title>Deploy Management Nodes</title>
      <link>/docs-csm/en-13/install/deploy_non-compute_nodes/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:17 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/deploy_non-compute_nodes/</guid>
      <description>Deploy Management Nodes The following procedure deploys Linux and Kubernetes software to the management NCNs. Deployment of the nodes starts with booting the storage nodes, followed by the master nodes and worker nodes together.
After the operating system boots on each node, there are some configuration actions which take place. Watching the console or the console log for certain nodes can help to understand what happens and when. When the process completes for all nodes, the Ceph storage is initialized and the Kubernetes cluster is created and ready for a workload.</description>
    </item>
    
    <item>
      <title>Install Services</title>
      <link>/docs-csm/en-13/install/install_csm_services/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:17 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/install_csm_services/</guid>
      <description>Install CSM Services This procedure will install CSM applications and services into the CSM Kubernetes cluster.
 NOTE Check the information in Known issues before starting this procedure to be warned about possible problems.
  Install CSM services Create base BSS global boot parameters Wait for everything to settle Next topic Known issues   Deploy CSM Applications and Services known issues Setup Nexus known issues  1. Install CSM services  NOTE: During this step, only on systems with only three worker nodes (typically Testing and Development Systems (TDS)), the customizations.</description>
    </item>
    
    <item>
      <title>Services Install Fails Because Of Missing Secret</title>
      <link>/docs-csm/en-13/install/csm_installation_failure/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:17 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/csm_installation_failure/</guid>
      <description>CSM Services Install Fails Because of Missing Secret When running the install script in the Install CSM Services procedure, it may fail due to a timing-related issue. This page documents how to determine if this problem was the cause of an install script failure, and the appropriate remediation steps to take if it is encountered.
How to determine if an install hit this issue   Verify that the installation script output contains an error about a missing secret.</description>
    </item>
    
    <item>
      <title>Configure Management Network</title>
      <link>/docs-csm/en-13/install/configure_management_network/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:16 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/configure_management_network/</guid>
      <description>Configure Management Network HPE Cray EX systems can have network switches in many roles: spine switches, leaf switches, leaf-bmc switches, and CDU switches. Newer systems have HPE Aruba switches, while older systems have Dell and Mellanox switches. Switch IP addresses are generated by Cray Site Init (CSI).
Documentation for the Management Network can be found in the HPE Cray EX Management Network Installation and Configuration Guide.
The configuration for these switches will be generated from CSM Automated Network Utility (CANU).</description>
    </item>
    
    <item>
      <title>Create Application Node Config Yaml</title>
      <link>/docs-csm/en-13/install/create_application_node_config_yaml/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:16 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/create_application_node_config_yaml/</guid>
      <description>Create Application Node Config YAML This topic provides directions on constructing the application_node_config.yaml file. This file controls how the csi config init command finds and treats application nodes discovered in the hmn_connections.json file when generating configuration files for the system.
 Prerequisites Background Directions  Prerequisites The application_node_config.yaml file can be constructed from information from one of the following sources:
 The SHCD Excel spreadsheet for the system The hmn_connections.json file generated from the system&amp;rsquo;s SHCD  Background SHCD and hmn_connections.</description>
    </item>
    
    <item>
      <title>Create Cabinets Yaml</title>
      <link>/docs-csm/en-13/install/create_cabinets_yaml/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:16 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/create_cabinets_yaml/</guid>
      <description>Create Cabinets YAML This page provides directions on constructing the optional cabinets.yaml file. This file lists cabinet IDs for any systems with non-contiguous cabinet ID numbers and controls how the csi config init command treats cabinet IDs.
The following example file is manually created and follows this format. Each type of cabinet can have several fields:
 total_number of cabinets of this type. starting_id for this cabinet type, and a list of the IDs.</description>
    </item>
    
    <item>
      <title>Create Hmn Connections Json File</title>
      <link>/docs-csm/en-13/install/create_hmn_connections_json/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:16 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/create_hmn_connections_json/</guid>
      <description>Create HMN Connections JSON File Use this procedure to generate the hmn_connections.json from the system&amp;rsquo;s SHCD Excel document. This process is typically needed when generating the hmn_connections.json file for a new system, or regenerating it when a system&amp;rsquo;s SHCD file is changed (specifically the HMN tab). The hms-shcd-parser tool can be used to generate the hmn_connections.json file.
The SHCD/HMN Connections Rules document explains the expected naming conventions and rules for the HMN tab of the SHCD file, and for the hmn_connections.</description>
    </item>
    
    <item>
      <title>Create NCN Metadata Csv</title>
      <link>/docs-csm/en-13/install/create_ncn_metadata_csv/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:16 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/create_ncn_metadata_csv/</guid>
      <description>Create NCN Metadata CSV The information in the ncn_metadata.csv file identifies each of the management nodes, assigns the function as a master, worker, or storage node, and provides the MAC address information needed to identify the BMC and the NIC which will be used to boot the node.
Some of the data in the ncn_metadata.csv can be found in the SHCD in the HMN tab. However, the hardest data to collect is the MAC addresses for the node&amp;rsquo;s BMC, the node&amp;rsquo;s bootable network interface, and the pair of network interfaces which will become the bonded interface bond0.</description>
    </item>
    
    <item>
      <title>Create Switch Metadata Csv</title>
      <link>/docs-csm/en-13/install/create_switch_metadata_csv/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:16 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/create_switch_metadata_csv/</guid>
      <description>Create Switch Metadata CSV This page provides directions on constructing the switch_metadata.csv file.
Prerequisites   The SHCD file for the system.
Check the description for component names while mapping names between the SHCD and the switch_metadata.csv file. See Component Names (xnames).
  Overview This file is manually created to include information about all spine, LeafBMC, CDU, and leaf switches in the system. None of the Slingshot switches for the HSN should be included in this file.</description>
    </item>
    
    <item>
      <title>Collect Mac Addresses For NCNs</title>
      <link>/docs-csm/en-13/install/collect_mac_addresses_for_ncns/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:15 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/collect_mac_addresses_for_ncns/</guid>
      <description>Collect MAC Addresses for NCNs Topics  Set up networking Collect MAC addresses  1. Set up networking This assumes that the HMN is not setup on the PIT node; these steps cater to bare-metal and configured switches.
  (pit#) Change into the preparation directory.
 NOTE If PITDATA is not defined, then see Set reusable environment variables.
 cd ${PITDATA}/prep   (pit#) Confirm that the ncn_metadata.csv file in this directory has the new information.</description>
    </item>
    
    <item>
      <title>Collecting NCN Mac Addresses</title>
      <link>/docs-csm/en-13/install/collecting_ncn_mac_addresses/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:15 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/collecting_ncn_mac_addresses/</guid>
      <description>Collecting NCN MAC Addresses This procedure details how to collect the NCN MAC addresses from an HPE Cray EX system. The MAC addresses needed for the Bootstrap MAC, Bond0 MAC0, and Bond0 MAC1 columns in ncn_metadata.csv will be collected. This data will feed into the cloud-init metadata.
The Bootstrap MAC address will be used for identification of this node during the early part of the PXE boot process, before the bonded interface can be established.</description>
    </item>
    
    <item>
      <title>Collecting The BMC Mac Addresses</title>
      <link>/docs-csm/en-13/install/collecting_bmc_mac_addresses/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:15 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/collecting_bmc_mac_addresses/</guid>
      <description>Collecting the BMC MAC Addresses This guide will detail how to collect BMC MAC addresses from an HPE Cray EX system with configured switches. The BMC MAC address is the exclusive, dedicated LAN for the onboard BMC.
Prerequisites  There is a configured switch with SSH access or unconfigured with COM access (Serial Over LAN/DB-9). A file is available to record the collected BMC information.  Procedure   (pit#) Start a session on the leaf-bmc switch, either using SSH or a USB serial cable.</description>
    </item>
    
    <item>
      <title>Configure Administrative Access</title>
      <link>/docs-csm/en-13/install/configure_administrative_access/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:15 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/configure_administrative_access/</guid>
      <description>Configure Administrative Access There are several operations which configure administrative access to different parts of the system. Ensuring that the cray CLI can be used with administrative credentials enables use of many management services via commands. The management nodes can be locked from accidental manipulation by the cray capmc and cray fas commands when the intent is to work on the entire system except the management nodes. The cray scsd command can change the SSH keys, NTP server, syslog server, and BMC/controller passwords.</description>
    </item>
    
    <item>
      <title>Cray System Management Install</title>
      <link>/docs-csm/en-13/install/readme/</link>
      <pubDate>Mon, 17 Jul 2023 03:16:15 +0000</pubDate>
      
      <guid>/docs-csm/en-13/install/readme/</guid>
      <description>Cray System Management Install This page will guide an administrator through installing Cray System Management (CSM) on an HPE Cray EX system.
The CSM services provide essential software infrastructure including the API gateway and many micro-services with REST APIs for managing the system.
Fresh-installations on bare-metal or re-installations of CSM must follow this guide in procedural order.
After completing an installation, the CSM product&amp;rsquo;s installed state will need to be validated with various health checks before operational tasks or other product installs (such as Slingshot) can commence.</description>
    </item>
    
  </channel>
</rss>
